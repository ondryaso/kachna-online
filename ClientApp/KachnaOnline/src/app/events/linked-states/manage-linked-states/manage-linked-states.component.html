<!--
manage-linked-states.component.html
Author: David Chocholatý
-->


<div class="container">
  <div class="row">
    <div class="col-md-auto">
      <button type="button" class="btn mr-1 btn-secondary" (click)="onPlanNewClubStateclicked()">
        Naplánovat nový stav klubu
      </button>
    </div>
    <div class="col-md-auto">
      <button type="button" class="btn mr-1 btn-secondary" (click)="onAddFromExistingClubStates()">
        Přidat existující stav klubu
      </button>
    </div>
  </div>

  <div class="row">

    <table class="table table-stripped">
      <thead class="thead-light">
      <tr>
        <th>Trvání od</th>
        <th>Trvání do</th>
        <th>Typ</th>
        <th>Operace</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let linkedState of eventsService.eventDetail.linkedStatesDtos">
        <td (click)="openClubStateDetail(linkedState)">{{linkedState.start}}</td>
        <td (click)="openClubStateDetail(linkedState)">{{linkedState.plannedEnd}}</td>
        <td (click)="openClubStateDetail(linkedState)">{{linkedState.state}}</td>
        <td>
          <div class="row">
            <button type="button" class="btn mr-1 btn-primary btn-danger float-right "
                    (click)="onUnlinkButtonClicked(linkedState)">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
              </svg>
              Odebrat stav klubu
            </button>
            <button type="button" class="btn mr-1 btn-danger" (click)="onDeleteButtonClicked(linkedState)">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
              </svg>
              Odstranit stav klubu
            </button>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
    <!--
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" *ngIf="activateEditEventModal" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Upravit akci</h5>
            <button type="button" class="btn-close" data-dismiss="modal" aria-label="Zavřít" (click)="onCloseModalClicked()"><span>&times;</span></button>
          </div>
          <div class="modal-body">

            <div class="jumbotron py-1">
              <h1 class="display-5 text-center">Upravit akci</h1>
            </div>

            <app-event-form [editMode]="true" *ngIf="activateEditEventModal"></app-event-form>
          </div>
        </div>
      </div>
    </div>
    -->

  </div>

  <div class="row">
    <div class="col-md-auto">
      <button type="button" class="btn mr-1 btn-danger" (click)="onUnlinkAllButtonClicked()">
       Odebrat všechny připojené stavy klubu
      </button>
    </div>
    <div class="col-md-auto">
      <button type="button" class="btn mr-1 btn-danger" (click)="onDeleteAllButtonClicked()">
        Odstranit všechny připojené stavy klubu
      </button>
    </div>
  </div>
</div>
